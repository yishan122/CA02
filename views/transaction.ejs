<br>
<br>
<h1> Transactions for <%= user.username %> </h1>


  <div class="row">
    <div class="col">
      <a class="btn btn-danger"
              href="/transaction/groupByCategory">Group by category</a>
      <a class="btn btn-danger"
              href="?sortBy=category">Sort by category</a>
      <a class="btn btn-danger"
              href="?sortBy=amount">Sort by amount</a>
      <a class="btn btn-danger"
              href="?sortBy=description">Sort by description</a>
      <a class="btn btn-danger"
              href="?sortBy=date">Sort by date</a>


      <table style="background-color:#ffffff;" class="table table-striped table-bordered">
        <thead>
          <tr style="color:#130202;">
            <th scope="col">Description</th>
            <th scope="col">Amount</th>
            <th scope="col">Category</th>
            <th scope="col">Date</th>
            <th scope="col">Delete</th>
            <th scope="col">Edit</th>
          </tr>
        </thead>

       <tbody>
            <% items.forEach(item => {%>
                <tr>
                   <td> <%= item.description %> </td>
                   <td> <%= item.amount %> </td>
                   <td> <%= item.category %> </td>
                   <td> <%= item.date.toLocaleDateString('en-US', {weekday: 'long', month: 'long', day: 'numeric', year: 'numeric'}) %> </td>
                   <td>
                    <a href="/transaction/remove/<%=item._id %>">
                      <i class="bi bi-trash"></i>
                    </a>
                   </td>
                   <td>
                    <a 
                   href="/transaction/edit/<%=item._id %>">
                  <i class="bi bi-pencil-square"></i>
                  </a>
                   </td>
                </tr>
               
                <% }) %>
        </tbody>
        
      </table>
    </div>
  </div>

<h2> Add a New Transaction </h1>
  <div>
    <form method="post" action="transaction">
        <input type="text" name="description" placeholder="description">
        <br>
        <input type="text" name="category" placeholder="category">
        <br>
        <input type="int" name="amount" placeholder="amount">
        <br>
        <input type="text" name="date" placeholder="mm/dd/yyyy">
        <br>
        <input type="submit" value="store">
    </form>
  </div>


